<!DOCTYPE html>
<html>
<head>
    <title>JOKES</title>

    <style>
        .jokeContainer {
            width: 700px;
            padding: 20px;
            background-color: darkblue;
            color: yellow;
        }
    </style>
</head>
<body>
    <script>
        window.onload = function() {
            document.getElementById("newJoke").addEventListener("click", joke);

            function joke() {
                fetch("https://v2.jokeapi.dev/joke/programming")
                    .then (res => res.text())
                    .then (data =>
                            {
                            data = JSON.parse(data);
                            theSetup = document.getElementById("setup");
                            theDelivery = document.getElementById("delivery");
                            if(!data.setup) {
                                theSetup.innerHTML = "BAD DATA, TRY AGAIN PLEASE";
                                theDelivery.innerHTML = "";
                            } else {
                                    let setup = data.setup;
                                    let delivery = data.delivery;
                                    theSetup = document.getElementById("setup");
                                    theDelivery = document.getElementById("delivery");
                                    theSetup.innerHTML = setup;
                                    theDelivery.innerHTML = delivery;
                            }
                            })
                    .catch (error => console.log(error))
                                }
        }
    </script>

    <button class="newJoke" id="newJoke">
        New Joke
    </button>

    <div class="jokeContainer">
        <h1 id="setup"></h1>
        <br/>
        <h1>...</h1>
        <br/><br/>
        <h1 id="delivery"></h1>
    </div>
    <div class="APIInfo">
        <h2>Description of API</h2>
        <p>This program uses an api that generates jokes from a database. It gives a random jokes with a setup and delivery. On this page you only see programming jokes because many other ones are innappropriate.</p>
        <h2>Where did I find the API?</h2>
        <p>I honestly just found this api by searching around on postman.</p>
        <h2>Parameters for API Request</h2>
        <p>You can specify the genre of jokes in the query string. In this one, I specify programming jokes, but there are many more types.</p>
        <h2>Applications of API</h2>
        <p>One application for this API could be for a website that wants a daily joke.
        </p> 
        <p>Another application could be to include this api in some sort of ai program. This would allow the program to be able to respond to a user's joke.</p>
    </div>
</body>
</html>
